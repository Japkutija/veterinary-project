
<nz-layout>
  <!-- Header -->
  <app-header></app-header>

  <!-- Main Content -->
  <nz-content class="p-8">
    <div class="p-4 bg-white rounded-lg shadow-md">

      <!-- Search Input and Add Pet Button -->
      <div class="flex items-center justify-between mb-6">
        <nz-input-group nzSearch nzSize="large" [nzAddOnAfter]="suffixButton">
          <input type="text" nz-input placeholder="Search pets..." />
        </nz-input-group>
        <ng-template #suffixButton>
          <button nz-button nzType="primary" nzSize="large" nzSearch>Search</button>
        </ng-template>

        <button nz-button nzType="default" (click)="openEditModal()">Add Pet</button>
      </div>

      <!-- Table -->
      <nz-table
        [nzData]="petList"
        [nzLoading]="loading"
        [nzPageSize]="pageSize"
        [nzFrontPagination]="false"
        [nzTotal]="total"
        [nzPageIndex]="pageIndex"
        (nzQueryParams)="onQueryParamsChange($event)"
      >
        <thead>
          <tr>
            <th nzColumnKey="petId" [nzSortFn]="true">Pet ID</th>
            <th nzColumnKey="name" [nzSortFn]="true">Name</th>
            <th nzColumnKey="owner" [nzSortFn]="true">Owner</th>
            <th nzColumnKey="species" [nzSortFn]="true">Species</th>
            <th nzColumnKey="breed" [nzSortFn]="true">Breed</th>
            <th nzColumnKey="action">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let pet of petList; let i = index;">
            <td>{{ i }}</td>
            <td>{{ pet.firstName + " " + pet.lastName }}</td>
            <td><button nz-button nzType="link">{{ pet }}</button></td>
            <td>{{ pet.speciesName }}</td>
            <td>{{ pet.breedName }}</td>
            <td>
              <button nz-button nzType="link" nz-tooltip nzTooltipTitle="Edit" (click)="editPet(pet)">
                <i nz-icon nzType="edit"></i>
              </button>
              <button nz-button nzType="link" nz-tooltip nzTooltipTitle="Delete" (click)="deletePet(pet)">
                <i nz-icon nzType="delete"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </nz-table>

      <!-- Pagination -->
      <nz-pagination
        [nzTotal]="total"
        [(nzPageIndex)]="pageIndex"
        [(nzPageSize)]="pageSize"
        (nzPageIndexChange)="onPageIndexChange($event)"
        (nzPageSizeChange)="onPageSizeChange($event)"
      ></nz-pagination>
    </div>
  </nz-content>

  <!-- Footer -->
  <app-footer></app-footer>
</nz-layout>
